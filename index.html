<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>World.food - Sopa de Letras</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      background: #f1f1f1;
    }
    #container {
      text-align: center;
    }
    #btnStart {
      padding: 12px 25px;
      font-size: 18px;
      border: none;
      background: #333;
      color: white;
      cursor: pointer;
      border-radius: 6px;
    }
    #grid {
      margin-top: 20px;
      display: grid;
      grid-template-columns: repeat(10, 30px);
      gap: 5px;
      justify-content: center;
    }
    .cell {
      width: 30px;
      height: 30px;
      background: #fff;
      border: 1px solid #000;
      display: flex;
      justify-content: center;
      align-items: center;
      font-weight: bold;
      font-size: 16px;
      user-select: none;
    }
    .selected {
      background: yellow;
    }
</style>
</head>
<body>
  <div style="position:absolute; top:10px; right:10px; font-weight:bold; font-size:16px;">Ella por Fidelia Betania</div>
  <div id="container">
    <h1>Bienvenidos al World&#x2024;food</h1>
    <button id="btnStart"></button>
    <div id="grid"></div>
  </div>

  <script>
    const btn = document.getElementById("btnStart");
    const grid = document.getElementById("grid");

    let firstPlay = !localStorage.getItem("playedBefore");
    btn.textContent = firstPlay ? "Comenzar" : "Nueva partida";

    const palabras = ["PAN", "ARROZ", "UVA", "LECHE", "CARNE"]; // palabras ocultas
    const gridSize = 10;

    btn.addEventListener("click", () => {
      localStorage.setItem("playedBefore", "true");
      btn.textContent = "Nueva partida";
      startGame
    let isSelecting = false;
    let selectedCells = [];
    let matrizGlobal = [];();
    });

    function startGame() {
      grid.innerHTML = "";

      // Crear matriz vacía
      let matriz = Array.from({ length: gridSize }, () => Array(gridSize).fill(""));

      // Insertar palabras horizontalmente
      palabras.forEach(pal => {
        let fila = Math.floor(Math.random() * gridSize);
        let maxInicio = gridSize - pal.length;
        let col = Math.floor(Math.random() * (maxInicio + 1));

        for (let i = 0; i < pal.length; i++) {
          matriz[fila][col + i] = pal[i];
        }
      });

      // Llenar espacios vacíos con letras aleatorias
      const letras = "ABCDEFGHIJKLMNÑOPQRSTUVWXYZ";

      for (let f = 0; f < gridSize; f++) {
        for (let c = 0; c < gridSize; c++) {
          if (matriz[f][c] === "") {
            matriz[f][c] = letras[Math.floor(Math.random() * letras.length)];
          }
        }
      }

      // Dibujar en pantalla
      matrizGlobal = matriz;
      for (let f = 0; f < gridSize; f++) {
        for (let c = 0; c < gridSize; c++) {
          const cell = document.createElement("div");
          cell.className = "cell";
          cell.dataset.row = f;
          cell.dataset.col = c;
          cell.textContent = matriz[f][c];

          cell.addEventListener("mousedown", startSelect);
          cell.addEventListener("mouseover", dragSelect);
          document.addEventListener("mouseup", endSelect);

          cell.addEventListener("touchstart", startSelect);
          cell.addEventListener("touchmove", dragTouch);
          document.addEventListener("touchend", endSelect);

          grid.appendChild(cell);
        }
      }(cell);
        }
      }
    }
  </script>
</body>
</html>
